---
language: node_js
node_js:
  - "0.12"

sudo: false

env:
  global:
    # For Saucelabs
    - secure: Jdk1b1Cxte80Vy10CXhSNazZTHrdR+9IHNYyJQ9UAlAYXi7lDG+snJrMmBcLto0gt/b6NTdMMi/DLA6dZQ8+GkaLIGt8kQCvMTodA6fq8uYJNsW8SWDOz7VwvUhsSl9uU8R4J0e2D3jItXPui4qKh+j7/aEXbXq9boZHM/Q0c3k=
    - secure: PfggyfAlzD3FOAgk5Pr6rjVePeTria+fwbfFJDjhWnkLWqBsWi5lNam5Xa5d+CGNZEMbdaWvTz40qLSrK2x6Jq0j5gEAlB9bG0i0FV/9E8BVZowXHF2+cl+72gjhH9w/uEuEHpdjE/rG06ykXfuCRUkAmRBnYli/5o/m9lKeGRg=

addons:
  sauce_connect: true

cache:
  directories:
    - node_modules

before_install:
  # See https://mediocre.com/forum/topics/phantomjs-2-and-travis-ci-we-beat-our-heads-against-a-wall-so-you-dont-have-to
  # modified to not use sudo (just puts $PWD on the path so that $PWD/phantomjs is the phantom used
  - wget https://s3.amazonaws.com/travis-phantomjs/phantomjs-2.0.0-ubuntu-12.04.tar.bz2
  - tar -xjf phantomjs-2.0.0-ubuntu-12.04.tar.bz2
  - export PATH=$PWD:$PATH
  - "npm config set spin false"
  - "npm install -g npm@^2"

install:
  - npm install -g broccoli-cli
  - npm install -g bower
  - bower install
  - npm install

script:
  - npm test
